< !DOCTYPE html><html><head><meta charset="UTF-8"><title>My HTML Page</title><style>body {
    background-color: #000000;
    /* Dark grey background for now color but can put a picture */
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    text-align: center;
    font-family: "Arial", sans-serif;
    line-height: 1.6;
    overflow-y: hidden;
    /* Center the content horizontally */
}

.container {
    width: 750px;
    /* Set your desired width */
    height: 630px;
    /* Set your desired height */
    background-color: rgba(255, 255, 255, 0.9);
    /* Background color with some transparency */
    border-radius: 10px;
    /* Rounded corners */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    /* Shadow effect */
    padding: 20px;
    /* Add padding for spacing */
    margin: 0 auto;
    /* Center the container horizontally */
    display: flex;
    /* Add display flex */
    flex-direction: column;
    /* Arrange items in a column */
    justify-content: center;
    /* Center vertically */
    align-items: center;
    /* Center horizontally */
}

/* Style the form */
#regForm {
    width: 650px;
    /* Set your desired width */
    height: 600px;
    /* Set your desired height */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    background-color: #ffffff;
    padding: 40px;
    border-radius: 10px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    position: relative;
}

h1 {
    text-align: center;
    color: #1d1d1d;
    /* Change color as desired */
    font-family: Arial, sans-serif;
    /* Change font family as desired */
    font-size: 24px;
    /* Change font size as desired */
    margin-top: 20px;
    /* Adjust top margin as desired */
}

h2 {
    color: #050505;
    margin-bottom: 10px;
    font-size: 18px;
}

h3,
#TAC_label {
    color: #333333;
    margin-bottom: 20px;
    font-weight: bold;
    font-size: 25px;
}

img {
    width: 180px;
    /* Set the desired width */
    height: auto;
    /* Maintain the aspect ratio */
    display: block;
    /* Ensure it behaves as a block element */
    margin: auto;
    /* Center the image horizontally */
    margin-top: 20px;
    margin-bottom: 20px;
}

#TZ_EQ_Logo {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
}

/* Button Style */
button {
    display: inline-block;
    background-color: #2e2d2d;
    border: none;
    /* Transparent border initially */
    font-weight: bold;
    font-size: 13px;
    color: rgb(255, 255, 255);
    text-align: center;
    padding: 10px 20px;
    margin: 10px;
    text-decoration: none;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.3s;
}

button:active {
    transform: translateY(2px);
    /* Move the button down slightly when pressed */
}

/* Adjust button container */
#nextprev_btns {
    width: 85%;
    display: flex;
    justify-content: space-between;
    margin-top: 40px;
    margin-bottom: 60px;
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
}

/* Align buttons */
#prevBtn,
#back_to_activities {
    margin-right: 0;
    margin-left: 0;
    font-size: 12px;
    background-color: #583c3c;
    /* Ensure left margin is reset */
}

#nextBtn,
#check_activities {
    margin-left: 0;
    margin-right: 0;
    font-size: 12px;
    background-color: #25492d;
    /* Ensure right margin is reset */
}

/* Style the input fields */
input {
    padding: 10px;
    width: calc(100% - 22px);
    /* Adjusted width to consider padding */
    font-size: 17px;
    font-family: Raleway;
    border: 1px solid #aaaaaa;
    margin: 0 auto;
    /* Center the input horizontally */
    display: block;
    /* Ensuring they take full width */
}

/* Mark input boxes that gets an error on validation: */
input.invalid {
    background-color: #ffdddd;
}

/* Hide all steps by default: */
.tab {
    display: none;
}

#bottom_circles {
    text-align: center;
    margin-top: 40px;
    margin-bottom: 20px;
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
}

/* Hide additional info unless escape room */
#additional_info {
    display: none;
}

/* Make circles that indicate the steps of the form: */
.step {
    height: 15px;
    width: 15px;
    margin: 0 2px;
    background-color: #bbbbbb;
    border: none;
    border-radius: 50%;
    display: inline-block;
    opacity: 0.5;
}

/* Mark the active step: */
.step.active {
    opacity: 1;
}

/* Mark the steps that are finished and valid: */
.step.finish {
    background-color: #04aa6d;
}

/* Hide submit button by default. */
#submitBtn {
    display: none;
    margin-top: 80px;
    border-radius: 10px;
    width: 50%;
    /* Set the width to half of its original size */
    /* Set the height to half of its original size */
}

/* Grid of buttons for regions and activities */
.btn_grid {
    display: grid;
    margin-top: 20px;
    /* Adjust the value (20px is just an example) */
    margin-bottom: 20px;
    /* Adjust the value (20px is just an example) */
}

#regions_nz {
    grid-template-columns: repeat(4, 1fr);
}

#activity_btns,
#nz_yes_or_no {
    grid-template-columns: repeat(2, 1fr);
}

#escape_room_btns {
    grid-template-columns: repeat(1, 1fr);
}

#activity_btns button,
#escape_room_btns button {
    border: 4px solid transparent;
}

#activity_btns button.selected,
#escape_room_btns button.selected {
    border: 4px solid rgb(43, 214, 0);
}

#options_for_how_did_you_hear_about_us {
    grid-template-columns: repeat(2, 1fr);
}

.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    justify-content: center;
    align-items: center;
    z-index: 9999;
    /* Adjust the z-index value to make sure it's higher than the step indicators */
}

.modal-content {
    background-color: white;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    max-height: 70vh;
    /* Adjust this value as needed */
    overflow-y: auto;
    margin: 0 15px;
    /* Add some right and left space */
    width: 90%;
    height: 90%;
}

li {
    text-align: left;
}


.close {
    color: #8a3737;
    font-size: 45px;
    cursor: pointer;
    float: right;
}

.tac-title {
    clear: right;
}

#escape_room_options {
    display: none;
}

#thank_you_slide {
    display: none;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    background-color: #ffffff;
    padding: 40px;
    border-radius: 10px;
    flex-direction: column;
    justify-content: center;
    position: relative;
}

#TZ_EQ_Logo_thank_you {
    display: none;
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    margin-top: 200px;
}

#checkbox-container {
    display: flex;
    margin-top: 50px;
    justify-content: center;
}

#tac_checkbox {
    width: auto;
    margin: 20px;
}

.checkbox-label {
    display: flex;
    align-items: center;
    font-size: 20px;
}

#refresh_btn {
    position: absolute;
    opacity: 0.2;
    top: 65px;
    /* Adjust as needed */
    left: 10px;
    /* Adjust as needed */
    padding: 20px 16px;
    /* Adjust padding to increase button size */
}

</style></head><body><button type="button" id="refresh_btn" onclick="refreshPage()">Refresh</button><div class="container"><img id="TZ_EQ_Logo_thank_you"
src="https://static.wixstatic.com/media/9fb207_dd7f5fce3035424b9bc4ee31aa53ea85~mv2.png"
alt="A beautiful landscape" /><form id="regForm" method="post" action="" name="sign-in-form"><img id="TZ_EQ_Logo" src="https://static.wixstatic.com/media/9fb207_dd7f5fce3035424b9bc4ee31aa53ea85~mv2.png"
alt="A beautiful landscape" />< !-- One "tab" for each step in the form: -->< !-- Welcome to TZ --><div class="tab"><h1>Welcome to Thrillzone and Escape Quest !</h1><h2>Only one sign-in per group required</h2><button type="button" id="startButton" onclick="nextPrev(1)">Start </button></div>< !-- First name,
last name and email --><div class="tab"><h3>Personal information:</h3><p><input type="text" id="first_name" placeholder="First name..." name="First Name"
oninput="this.className = ''" /></p><p><input type="text" id="last_name" placeholder="Last name..." name="Last Name" oninput="this.className = ''" /></p><p><input type="email" id="email_address" placeholder="Email..." name="E-mail" oninput="this.className = ''" /></p>< !-- make the email only @, if first leter small character make capital--></div>< !-- New Zealand ? --><div class="tab"><div id="newZealand?"><h3>Do you live in New Zealand?</h3><div id="nz_yes_or_no" class="btn_grid"><button type="button" id="yesNZ" onclick="newZealandYes()">Yes </button><button type="button" id="noNZ" onclick="newZealandNo()">No</button></div></div></div>< !-- Region or Other Country ? --><div class="tab" id="region_or_country"><input type="hidden" name="Region" id="region_nz" value="Other (International)" /><div id="regions"><h3>Select your region:</h3><div id="regions_nz" class="btn_grid"><button type="button" id="btn_Auckland" onclick="setHiddenInputandNext('region_nz', 'Auckland')">Auckland </button><button type="button" id="btn_BayOfPlenty" onclick="setHiddenInputandNext('region_nz', 'Bay of Plenty')">Bay of Plenty </button><button type="button" id="btn_Canterbury" onclick="setHiddenInputandNext('region_nz', 'Canterbury')">Canterbury </button><button type="button" id="btn_Gisborne" onclick="setHiddenInputandNext('region_nz', 'Gisborne')">Gisborne </button><button type="button" id="btn_HawkesBay" onclick="setHiddenInputandNext('region_nz', 'Hawkes Bay')">Hawkes Bay </button><button type="button" id="btn_Marlborough" onclick="setHiddenInputandNext('region_nz', 'Marlborough')">Marlborough </button><button type="button" id="btn_Nelson" onclick="setHiddenInputandNext('region_nz', 'Nelson')">Nelson </button><button type="button" id="btn_Northland" onclick="setHiddenInputandNext('region_nz', 'Northland')">Northland </button><button type="button" id="btn_Otago" onclick="setHiddenInputandNext('region_nz', 'Otago')">Otago </button><button type="button" id="btn_Queenstown" onclick="setHiddenInputandNext('region_nz', 'Queenstown')">Queenstown </button><button type="button" id="btn_Southland" onclick="setHiddenInputandNext('region_nz', 'Southland')">Southland </button><button type="button" id="btn_Taranaki" onclick="setHiddenInputandNext('region_nz', 'Taranaki')">Taranaki </button><button type="button" id="btn_Waikato" onclick="setHiddenInputandNext('region_nz', 'Waikato')">Waikato </button><button type="button" id="btn_Wellington" onclick="setHiddenInputandNext('region_nz', 'Wellington')">Wellington </button><button type="button" id="btn_WestCoast" onclick="setHiddenInputandNext('region_nz', 'West Coast')">West Coast </button><button type="button" id="btn_Whanganui" onclick="setHiddenInputandNext('region_nz', 'Whanganui')">Whanganui </button>< !-- More buttons here for each region--></div></div><div id="countries"><h3>What country are you from?</h3><div class="text-container"><p><input type="text" list="country_options" id="input_countries" name="Country" placeholder="Enter Country"
value="" oninput="this.className = ''" /><datalist id="country_options"><option value="Afghanistan">Afghanistan</option><option value="Albania">Albania</option><option value="Algeria">Algeria</option><option value="Andorra">Andorra</option><option value="Angola">Angola</option><option value="Antigua and Barbuda">Antigua and Barbuda</option><option value="Argentina">Argentina</option><option value="Armenia">Armenia</option><option value="Australia">Australia</option><option value="Austria">Austria</option><option value="Azerbaijan">Azerbaijan</option><option value="Bahamas">Bahamas</option><option value="Bahrain">Bahrain</option><option value="Bangladesh">Bangladesh</option><option value="Barbados">Barbados</option><option value="Belarus">Belarus</option><option value="Belgium">Belgium</option><option value="Belize">Belize</option><option value="Benin">Benin</option><option value="Bhutan">Bhutan</option><option value="Bolivia">Bolivia</option><option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option><option value="Botswana">Botswana</option><option value="Brazil">Brazil</option><option value="Brunei">Brunei</option><option value="Bulgaria">Bulgaria</option><option value="Burkina Faso">Burkina Faso</option><option value="Burundi">Burundi</option><option value="Cabo Verde">Cabo Verde</option><option value="Cambodia">Cambodia</option><option value="Cameroon">Cameroon</option><option value="Canada">Canada</option><option value="Central African Republic">Central African Republic</option><option value="Chad">Chad</option><option value="Chile">Chile</option><option value="China">China</option><option value="Colombia">Colombia</option><option value="Comoros">Comoros</option><option value="Congo (Congo-Brazzaville)">Congo (Congo-Brazzaville)</option><option value="Costa Rica">Costa Rica</option><option value="Croatia">Croatia</option><option value="Cuba">Cuba</option><option value="Cyprus">Cyprus</option><option value="Czech Republic">Czech Republic</option><option value="Denmark">Denmark</option><option value="Djibouti">Djibouti</option><option value="Dominica">Dominica</option><option value="Dominican Republic">Dominican Republic</option><option value="East Timor">East Timor</option><option value="Ecuador">Ecuador</option><option value="Egypt">Egypt</option><option value="El Salvador">El Salvador</option><option value="Fiji">Fiji</option><option value="Finland">Finland</option><option value="France">France</option><option value="French Polynesia">French Polynesia</option><option value="Gabon">Gabon</option><option value="Gambia">Gambia</option><option value="Georgia">Georgia</option><option value="Germany">Germany</option><option value="Ghana">Ghana</option><option value="Greece">Greece</option><option value="Grenada">Grenada</option><option value="Guam">Guam</option><option value="Guatemala">Guatemala</option><option value="Guinea">Guinea</option><option value="Guinea-Bissau">Guinea-Bissau</option><option value="Guyana">Guyana</option><option value="Haiti">Haiti</option><option value="Honduras">Honduras</option><option value="Iceland">Iceland</option><option value="India">India</option><option value="Indonesia">Indonesia</option><option value="Ireland">Ireland</option><option value="Jamaica">Jamaica</option><option value="Japan">Japan</option><option value="Kiribati">Kiribati</option><option value="Madagascar">Madagascar</option><option value="Maldives">Maldives</option><option value="Malta">Malta</option><option value="Mauritius">Mauritius</option><option value="New Caledonia">New Caledonia</option><option value="New Zealand">New Zealand</option><option value="Papua New Guinea">Papua New Guinea</option><option value="Philippines">Philippines</option><option value="Saint Kitts and Nevis">Saint Kitts and Nevis</option><option value="Saint Lucia">Saint Lucia</option><option value="Seychelles">Seychelles</option><option value="Solomon Islands">Solomon Islands</option><option value="Sri Lanka">Sri Lanka</option><option value="Taiwan">Taiwan</option><option value="Tonga">Tonga</option><option value="Tuvalu">Tuvalu</option><option value="Vanuatu">Vanuatu</option></datalist></p></div></div></div>< !-- How many people ? --><div class="tab"><h3>How many people are participating?</h3><p><input type="number" placeholder="How many people are participating?" name="Number of People" oninput="this.className = ''" /></p></div>< !-- What activity(ies) ? -->< !-- --><div class="tab"><div id="step_one_activities"><h3>Which experience(s) are you having with us today?</h3><div id="activity_btns" class="btn_grid"><button type="button" id="btn_Vortex" onclick="selectActivity(this, 'Vortex 12D Motion', false)">Vortex 12D Motion Theatre </button><button type="button" id="btn_Omni" onclick="selectActivity(this, 'Omni VR', false)">Omni VR </button><button type="button" id="btn_Hologate" onclick="selectActivity(this, 'Hologate VR', false)">Hologate VR </button><button type="button" id="btn_VREscape" onclick="selectActivity(this, 'VR Escape Rooms', false)">VR Escape Rooms </button><button type="button" id="btn_Minigolf" onclick="selectActivity(this, 'Indoor UV Minigolf', false)">Putt'n' Glow Mini Golf </button><button type="button" id="btn_RaceCar" onclick="selectActivity(this, 'Race Car Simulator', false)">Race Car Simulator </button>< !-- Different button for Indoor Escape Room--><button type="button" id="btn_EscapeRoom" onclick="selectEscapeQuest(this)">Indoor Escape Rooms </button><button type="button" id="btn_OutdoorEscape"
onclick="selectActivity(this, 'Outdoor Escape Adventures', false)">Outdoor Escape Adventures </button><button type="button" id="btn_FrisbeeGolf" onclick="selectActivity(this, 'Frisbee Golf', false)">Frisbee Golf </button><button type="button" id="btn_KidzClub" onclick="selectActivity(this, 'Kidz Club', false)">Kidz Club </button>< !-- Could be changed to clickable images to select activities--></div></div>< !-- If Escape room give 3 options. If kidz club/frisbee/outdoor ask for phone number. --><div id="step_two_activities"><div id="escape_room_options"><h3>Select your(s) escape room(s):</h3><div id="escape_rooms_hidden_input">< !-- <input type="hidden" name="Escape Room" id="what_escape_room" value="null">--></div>< !-- When 4th ER do 2x2 grid--><div id="escape_room_btns" class="btn_grid"><button type="button" id="btn_GH" onclick="selectActivity(this, 'Gold Heist in the Gold Rush', true)">Gold Heist in the Gold Rush </button><button type="button" id="btn_Pow"
onclick="selectActivity(this, 'Murder in the Prince of Wales Hotel 2', true)">Murder in the Prince of Wales Hotel 2 </button><button type="button" id="btn_JMC"
onclick="selectActivity(this, 'Jackpot in the Miner\'s Cottage', true)">Jackpot in the Miner's Cottage
 </button></div></div><div id="phone_number"><h3>Contact details: </h3><div id="phone_number_input">< !-- <p><input type="tel" id="phone_input" placeholder="Enter Phone Number" name="Phone" oninput="this.className = \'\'"></p>--></div></div></div></div>< !-- How did we hear about us ? --><div class="tab"><h3>How did you hear about us?</h3><input type="hidden" name="How did you hear about us?" id="how_did_you_hear_about_us" value="" /><div class="btn_grid" id="options_for_how_did_you_hear_about_us"><button type="button" id="btn_Google" onclick="setHiddenInputandNext('how_did_you_hear_about_us', 'Google')">Google </button><button type="button" id="btn_TripAdvisor"
onclick="setHiddenInputandNext('how_did_you_hear_about_us', 'TripAdvisor')">TripAdvisor </button><button type="button" id="btn_FacebookInstagram"
onclick="setHiddenInputandNext('how_did_you_hear_about_us', 'Facebook / Instagram')">Facebook / Instagram </button><button type="button" id="btn_Brochure"
onclick="setHiddenInputandNext('how_did_you_hear_about_us', 'Brochure')">Brochure </button><button type="button" id="btn_Hotel" onclick="setHiddenInputandNext('how_did_you_hear_about_us', 'Hotel')">Hotel </button><button type="button" id="btn_InfoCentre"
onclick="setHiddenInputandNext('how_did_you_hear_about_us', 'Info Centre')">Info Centre </button><button type="button" id="btn_RefferalCard"
onclick="setHiddenInputandNext('how_did_you_hear_about_us', 'Referral Card')">Referral Card </button><button type="button" id="btn_WordOfMouth"
onclick="setHiddenInputandNext('how_did_you_hear_about_us', 'Word of mouth')">Word of mouth </button><button type="button" id="btn_WalkBy" onclick="setHiddenInputandNext('how_did_you_hear_about_us', 'Walk by')">Walk by </button><button type="button" id="btn_BeenBefore"
onclick="setHiddenInputandNext('how_did_you_hear_about_us', 'Been before')">Been before </button>< !-- More buttons here for each option--></div></div>< !-- Terms and conditions ? --><div class="tab" id="TAC_tab">< !-- Add this link or button where you want to trigger the modal --><div class="terms-container"><a id="TAC_label" href="#" onclick="openModal()">View Terms and Conditions</a></div><div id="checkbox-container"><label for="tac_checkbox" class="checkbox-label">I agree</label><input type="checkbox" id="tac_checkbox" name="T&C's" value="I agree" class="checkbox" /></div></div><div id="nextprev_btns"><button type="button" id="prevBtn" onclick="nextPrev(-1)">Back </button><button type="button" id="back_to_activities" onclick="displayFirstStepOfActivities()">Back </button><button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button><button type="button" id="check_activities" onclick="isAdditionalInfoRequired()" disabled>Next </button></div>< !-- All the hidden inputs that are generated for the form submission--><input type="hidden" name="Date Time" id="date_time" value="" /><input type="hidden" name="Activity" id="what_activities" value="null"><input type="submit" value="Submit" id="submitBtn" disabled="true" />< !-- Circles which indicates the steps of the form: --><div id="bottom_circles"><span class="step"></span><span class="step"></span><span class="step"></span><span class="step"></span><span class="step"></span><span class="step"></span><span class="step"></span><span class="step"></span></div>< !-- Add this div at the end of your body --><div id="termsModal" class="modal"><div class="modal-content"><span class="close" onclick="closeModal()">&times;
</span><h1 class="tac-title">Thrillzone: Terms and Conditions</h1><p>Listed below are the terms and conditions in effect for Thrillzone. Please ensure all participants (or their guardians) have thoroughly read through the terms and conditions before purchasing any of our activities. </p>< !-- General (applies to all activities) --><h2>General (applies to all activities)</h2><p><li>By purchasing a ticket to participate in any of our activities at Thrillzone,
customers acknowledge the operator’s general terms.</li><li>Customers participate in all of the activities at their own risk.</li><li>The operator and any owners / employees associated with this business take no responsibility for accidents,
injuries,
and damage caused by misuse of the facility and equipment,
including violation of safety regulations.</li><li>Customers are always required to return all equipment provided by the operator after finishing their activities and follow ALL instructions of staff.</li><li>Participating in the activities may be dangerous if not done in accordance with the rules conducted by the operating staff.</li><li>The operator reserves the right to finish any session early without providing any reimbursement if the customers do not comply with the rules,
cause harm / damage to themselves or others,
and / or risk their own health and safety.</li><li>The operator reserves the right to charge the customers for the damage done to any equipment or interior.</li><li>Valuable items are carried at the customer's own risk.</li>
 <li>By consenting to have pictures and videos taken,
the participants authorize for their pictures and videos to be used for marketing and social media purposes. These include,
but are not limited to,
display via TV monitors at Thrillzone and publication on Facebook,
Instagram,
TikTok,
and other official Thrillzone social media platforms. This is not compulsory and any participant may opt-out by informing a staff member.</li><li>By filling in the sign-in form on the iPad,
the participant consents to all information included being kept in a consumer database. This information is used to compile consumer information and create a database that will be used for marketing purposes via email. This is not compulsory and any participant may opt-out by informing a staff member.</li></p>< !-- Virtual Reality Experiences --><h2>Virtual Reality Experiences (Vortex, Omni VR, Hologate VR, VR Escape Room, Race Car Simulators)</h2><p><li>Thrillzone as an operator advises the participant NOT to take part in these activities if they have any existing health issues,
such as,
but not limited to,
heart disease;
vertigo;
neck / back weakness;
the participant easily gets motion-sick;
or are pregnant.</li><li>The operator does not provide a refund if the participant gets motion-sick or terminates the participant's session early for any other reason.</li>
 <li>If participating in Omni VR,
customers need to be within the height & weight restrictions provided by the operator. The operator reserves the right to charge customers for any damaged gear caused by customers providing false information to the operator (f.e. exceeding the weight limit).</li></p>< !-- Outdoor Escape Adventure --><h2>Outdoor Escape Adventure</h2><p><li>Escape Adventure is an outdoor activity. Participants are advised to take care and follow the official New Zealand road code published by the NZ Transport Agency.</li><li>Parents and Guardians are responsible for minors. Children under 14 years must be accompanied by parents or guardians.</li><li>Thrillzone collects a bond deposit payment of NZD $200 in addition to the ticket fee. Thrillzone reserves the right to keep the bond deposit to replace items at the replacement cost in the event that the activity bag and / or enclosed items and / or iPads are not returned in the same condition.</li></p>< !-- Putt ‘N’ Glow Mini Golf --><h2>Putt ‘N’ Glow Mini Golf</h2><p><li>Please don't lean on the walls or bang the clubs on any of the props.</li>
 <li>Watch your step,
no running or climbing and NEVER lift the club above the waist ! People who behave inappropriately will be asked to leave. Take care and be considerate of others !</li><li>Putt n' Glow owners and staff are not responsible for the loss or damage of personal property or
 personal injury.</li><li>It is your responsibility to pay for any lost or damaged equipment. Cameras are running and it is an offence to remove them from the premises.</li><li>Participants need to follow the instructions given by Staff members,
if any damage or injury happens as a result of not following the rules,
the participants causing the injury / damage are liable for it.</li></p>< !-- Kidz Club --><h2>Kidz Club</h2><p><li>I release all liability from Thrillzone,
its owners,
and employees,
for any personal injury,
bodily harm,
or personal property damage / loss that occurs while my child(ren) are at Thrillzone.</li><li>By agreeing to these terms and conditions,
I agree my child is at least four years old.</li><li>If I pick up my child(ren) late,
I agree to pay an additional fee,
as set out by the fee schedule on the Thrillzone website.</li><li>Thrillzone reserves the right to request the child(ren) be picked up early from their session if the child(ren) exhibit(s) conduct such as,
but not limited to,
sickness,
emotional turmoil,
bullying others,
or causing disruption for others. If this occurs,
refunds will not be issued.</li><li>I consent to Thrillzone team members applying minor medical treatment to my child(ren) if necessary (such as applying a band-aid). I recognize,
if serious medical treatment is needed,
Thrillzone will first call an ambulance and notify the parental contact afterwards. I acknowledge Thrillzone is not responsible for any medical costs (including ambulance costs.)</li><li>I agree to pay any costs incurred by my child(ren)’s damage to gear or equipment.</li><li>I acknowledge this is a legally binding agreement between Thrillzone and the participating party.</li><li>This is not a comprehensive list of all Kidz Club Terms & Conditions. To see the full Terms & Conditions,
ask a team member.</li></p>< !-- Frisbee Golf Hire --><h2>Frisbee Golf Hire</h2><p><li>Rental Frisbees need to be returned before 9pm on the same day of the rental.</li><li>A deposit of $25 per frisbee or a valid ID Card is required,
which will be returned once the frisbees are returned without major damage.</li><li>If the frisbee is not returned or returned with damage,
there will be a $25 replacement fee per frisbee which needs to be paid,
or will be taken out of the deposit.</li><li>Thrillzone reserves the right to keep the bond deposit to replace items at the replacement cost in the event that the Frisbees are not returned in the same condition.</li></p>< !-- Electronic Sign-In --><h2>Electronic Sign-In</h2><p>By signing in electronically at Thrillzone on iPads,
I agree to the terms and conditions set out for myself and the participating party.<br></p><br>< !-- Escape Quest TAC --><h1 class="tac-title">Escape Quest: Terms and Conditions</h1><h2>Information About Us and How To Contact Us</h2><p><li>We are Motion Cinema Ltd trading as Escape Quest. Our NZBN is 9429030030886. Escape Quest is a New Zealand owned company.</li><li>You can contact us by using the contact details as set out in the Contact Us section of our website. </li><li>If we have to contact you we will do so by telephone or email using the contact details provided to us in your booking or enquiry.</li></p><h2>Pricing,
Bookings and Payment</h2><p><li>All pricing is displayed and charged in New Zealand dollars and includes relevant taxes. Escape Quest reserves the right to alter published prices at any time.</li><li>Only person(s) aged at least 18 years are permitted to book a game. Where a customer is booking tickets on behalf of themselves and other members of a group,
that person must be authorised to make the booking on the basis of acceptance of these Terms and Conditions by all persons involved in the booking and by a parent or guardian for anyone under 18 years of age when the booking is made.</li><li>Minimum age for escape room players is 7 years. Players under 12 years must be accompanied by an adult. </li><li>Customer safety is Escape Quest’s top priority. It’s important if you have a medical condition that you seek professional health advice prior to booking one of our escape rooms or VR experiences. Escape Quest does not take responsibility for customers’ medical conditions whilst playing at Escape Quest. Vertigo sufferers should note that VR escape games include moments of virtual climbing which gives the illusion of being high above the ground.</li><li>Bookings and payment can be made online at www.escapequest.co.nz or in person at our premises. Payment for the escape game(s) will be due in full at the time of booking. Price and payment details will be confirmed during the booking process prior to payment and on your booking confirmation. Your chosen payment method will be charged as indicated during the booking and payment process.</li><li>It is your responsibility to check that any booking details issued to you are accurate and your details are correct on the online booking form. By submitting an online booking form you warrant to Escape Quest that all details supplied by you are true and accurate.</li><li>Our acceptance of your booking will take place when your payment is processed successfully and you reach the booking confirmation page or are provided with a receipt on premise. At this point a contract will come into existence between you and us. We will also send you an email confirmation. Escape Quest will not send further confirmation via post or text message. Your booking confirmation is also your ticket to your mission and valid for up to the number of people shown on the booking confirmation.</li><li>We accept the following methods of payment on our website,
through our secure booking service supplier PayPal,
who will process your payment card data without it having to be held by us:<br>(1) Visa Debit and Credit Card<br>(2) MasterCard Debit and Credit Card<br>(3) American Express Charge and Credit Card. We do not accept American Express for over the counter payments at our premises.</li><li>When requested in writing,
we also accept invoice payments. In this situation we shall forward you an invoice along with your payment link. Please note that this option is available exclusively to registered businesses booking for team building. The invoiced price must be paid in full before the date of your experience otherwise access to the venue may not be granted or your booking might be cancelled.</li></p><h2>Cancellation,
Rescheduling,
Booking Changes and No-Shows</h2><p><li>Escape Quest hosts live experiences and once a booking is confirmed,
we cannot accept cancellations or offer refunds.</li><li>Re-scheduling your booking may be possible,
but only at the discretion of Escape Quest. Rescheduling is free of charge provided you inform us at least 3 days in advance of your original booking date and is subject to availability. If less than 3 days notice is provided,
we reserve the right to charge a $20 rescheduling fee. If,
for whatever reason,
we are unable to accommodate your booking on an alternative date,
you will not be due a refund.</li><li>If 3 or more days notice is provided at cancellation,
issuing a voucher for the equivalent booking value to be used at a later date may be possible,
but only at the discretion of Escape Quest.</li><li>As Escape Quest is a live event with a scheduled start time,
you are responsible for ensuring that all of your group of players arrive at the time stated on your booking confirmation,
which is generally 10 minutes before your game start time. Games will not be delayed for late arrivals,
although we will allow late arrivals into the room after your escape game has begun,
but not more than 15 minutes into the game. Please note that the 15 minutes cut-off time only applies to our escape rooms. For VR experience bookings you will be required to be all present for the start of the game.</li><li>If your party has not arrived 15 minutes after your booked game start time,
this will be treated as no-show and we may refuse entry to your game. No refund or rescheduling is available for no-shows.</li><li>It is your responsibility to make your way to our business premises to play your game at the time stated on your booking confirmation. We do not provide parking or other travel arrangements and any travel information provided on our site is only done so as an aid to planning your visit. We cannot be held responsible for any failure of transport arrangements that result in your booking being a no-show.</li><li>To the extent that you bring less players to Escape Quest than booked,
the price difference will not be refunded. Please note that there is a minimum of two players required for any game.</li><li>If more people attend the game than are booked (up to 6 persons per room) the extra can be paid prior to arrival (call us to add additional people on +64 3 442 4948) or upon arrival at the game.</li></p><h2>Game Play and Conduct</h2><p><li>No video recordings or photos are allowed inside the rooms. You are expected not to use any video/audio recording device during the game (this includes, without limitation, mobile phones, recording devices and cameras).</li><li>If you are a blogger,
vlogger,
press representative planning to film or take photos at our venue for review purposes,
then please get in touch at queenstown@escapequest.co.nz for permission.</li><li>We expect you and your group not to disclose any details of the game directly or indirectly to any third party members. Our games are our intellectual property and you are not permitted to use this in any way without our written consent. You accept that any such disclosure or use may constitute an infringement of our intellectual property rights. Ubisoft terms & conditions apply separately to the VR experiences.</li><li>We are entitled to charge our customers for any damage which is intentional and/or caused by misuse of company property within the briefing area(s) and the escape room(s).</li><li>While you are on our premises, you must ensure to conform to our codes and regulations, adopt proper standards of behaviour, and cooperate with our employees. People under the influence of alcohol or drugs may be turned away or removed from our premises by our employees and their booking cancelled or ceased early with no refund.</li><li>We do not tolerate any kind of bullying or harassment towards our employees and we reserve the right to remove from our premises any person who is violent, abusive, threatening or disruptive or whose behaviour is causing distress to other customers or employees, with no refund for booked or partially played missions. </li><li>Swearing or abusive words are strictly forbidden during VR experiences shared with other teams.</li><li>Food and drinks are not allowed inside the escape rooms and alcohol consumption is strictly forbidden within our premises, unless you have obtained the management’s written consent prior to your booking.</li><li>You will receive instructions before the mission in the form of a briefing given by a game host. After learning the rules and objectives of the mission and receiving the information provided at the briefing,
you and your group will participate in the event at your own risk. We are not liable for any damage caused to persons, possessions or materials by your failure to follow the instructions given before the event.</li><li>CCTV will be used to monitor you and your team during the course of your mission. This includes audio and video monitoring as it is an essential part of running your game. Recordings of your game may be stored for up to 48h with the sole purpose of documenting evidence of illegal behaviour, such as committing wilful damage to company property or harassing members of staff.</li><li>Photographs of you and your team will be taken after the mission and uploaded to Facebook (without identification tags) for you to access. By accepting these Terms and Conditions and permitting our employees to take photographs, you grant unconditional permission for those photographs to be used by us for marketing and promotional purposes. If you do not want your team photograph to be used in this way, please advise our employee at the time your photo is taken.</li></p><h2>Personal Information</h2><p><li>We will only use the personal information you provide to us as set out in our Privacy Policy.</li></p><h2>Our Responsibility for Loss or Damage Suffered by You</h2><P><li>Escape Quest shall not be liable to any person for any direct or indirect, consequential or incidental damages, including (without limitation) lost profits or revenues, loss of opportunity, costs of replacement goods or services, loss or damage to data or business interruption, arising out of any use of the website. We accept no liability for consequential losses incurred as the result of the cancellation or premature cessation of a booking under any circumstances.</li><li>Whilst your escape experience is insured, you undertake to act carefully whilst within the experience and will not take unnecessary risks such as climbing on unsafe surfaces that are not designed for that purpose. The game does not require such activities and customers are made aware of that by staff during the briefing. You are responsible for your own safety during the experience. Escape Quest is not liable for any (personal or equipment) damages caused by game play, game room misuse or not following the rules described before the game.</li><li>The absolute limit of direct liability to you, howsoever arising under or in connection with the contract,
shall be limited to 100% of the price paid for that booking or payable by you under the contract.</li><li>These terms are governed by the law of New Zealand</li></P><br>< !-- Close button at the bottom --><button type="button" id="closeTermsModalBtn" onclick="closeModal()">Close </button>< !-- Add the actual terms and conditions content here --></div></div></form><div id="thank_you_slide"><div id="thank_you_message"><h3>Thanks for signing in !</h3></div></div></div><script> // Replace with the desired URL of the Google spreadsheets
const scriptURLTZ="https://script.google.com/macros/s/AKfycbxu3lC9S9TuPn9Y-25rsEssuqoE8VXrshDLzzS6iDBdrj9z6i53w8fL__YGmNJX_Ipg_w/exec";
const scriptURLEQ="https://script.google.com/macros/s/AKfycbxTIYQOsH9EhHCXjcUpfM_lljErB6crsqOLolKb_Apokg6i4VI3D3Epqw0Bpp694BQdWA/exec";
const url="https://script.google.com/macros/s/AKfycbwTBNQGYTcq0pHTw4uVe0_sPb9JOTtLGiGtRpQ-c3OSBcodw6eWN23Rgga9bkH9tN-Mmw/exec";
// Define the duration of inactivity in milliseconds
var inactivityDuration=2 * 60 * 1000; // 5 minutes in milliseconds (minutes x seconds x miliseconds)

const form=document.forms["sign-in-form"];
var currentTab=0; // Current tab is set to be the first tab (0)
var activityStepOne=true;
var livesInNZ=true;
// Get the checkbox and submit button
var checkbox=document.getElementById("tac_checkbox");
var submitBtn=document.getElementById("submitBtn");
// To know what activities to send to the form
var listOfTZActivities=[];
var listOfEscapeRooms=[];
var escapeQuest=false;
var phoneNumber="";
// Select all input elements
var inputs=document.querySelectorAll('input');

showTab(currentTab); // Display the current tab

const fetchWithTimeoutAndRetry=(url, options, timeout, retries)=> {
    return new Promise((resolve, reject)=> {
            const fetchRequest=()=> {
                fetch(url, options) .then(response=> {
                        if ( !response.ok) {
                            throw new Error('Network response was not ok');
                        }

                        resolve(response);

                    }) .catch(error=> {
                        if (retries > 0) {
                            console.log(`Retrying fetch request. Retries left: $ {
                                    retries
                                }

                                `);
                            setTimeout(fetchRequest, timeout);
                            retries--;
                        }

                        else {
                            reject(error);
                        }
                    });
            }

            ;

            fetchRequest();
        });
}

;

form.addEventListener("submit", (e)=> {
        // Capitalize inputs before submission
        capitalizeInputs();

        // Prevent default form submission
        e.preventDefault();

        // Disable the submit button to prevent multiple submissions
        submitBtn.disabled=true;

        // Hide the form
        form.style.display="none";

        // Show thank you message
        document.getElementById("thank_you_slide").style.display="inline";
        document.getElementById("TZ_EQ_Logo_thank_you").style.display="inline";

        // Update hidden input fields with the updated list of activities
        if (listOfTZActivities !==null) {
            document.getElementById("what_activities").value=listOfTZActivities.join(", ");
        }

        // Check if for Thrillzone and Escape Quest and send to corresponding URL
        if (listOfTZActivities !==null || listOfEscapeRooms !==null) {

            const promises=[];

            if (listOfTZActivities.length > 0) {
                // Generate and set date time value for TZ
                document.getElementById("date_time").value=generateDateTimeString("US");

                promises.push(fetchWithTimeoutAndRetry(scriptURLTZ, {
                        method: "POST", body: new FormData(form)
                    }

                    , 3000, 3));
        }

        if (escapeQuest) {
            // Generate and set date time value for TZ
            document.getElementById("date_time").value=generateDateTimeString("EU");

            promises.push(fetchWithTimeoutAndRetry(scriptURLEQ, {
                    method: "POST", body: new FormData(form)
                }

                , 3000, 3));
    }

    //Make data storable as back up
    let formData=new FormData(form);

    var object= {}

    ;

    formData.forEach(function(value, key) {
            object[key]=value;
        });
    var json=JSON.stringify(object);
    // end


    // Wait for all fetch requests to complete
    Promise.all(promises) .then(()=> {
            window.location.reload(); // Reload the page after both fetch requests are completed

        }) .catch((error)=> {
            window.parent.postMessage(json, "*");
        });
}
});

// Add event listener to each text input for the ENTER key to have the same effect as the Next Button
// Add event listener to each input element using forEach
inputs.forEach(function (input) {
        input.addEventListener("keydown", handleEnterKeyPress);
    });

// Event listeners for user activity
document.addEventListener("DOMContentLoaded", startTimer); // Start timer when page loads
document.addEventListener("click", resetTimer); // Reset timer on click
document.addEventListener("keypress", resetTimer); // Reset timer on keypress

function showTab(n) {
    // This function will display the specified tab of the form ...
    var x=document.getElementsByClassName("tab");
    x[n].style.display="block";
    // ... and fix the Previous/Next buttons:
    document.getElementById("back_to_activities").style.display="none";
    document.getElementById("check_activities").style.display="none";

    if (n==0) {
        document.getElementById("prevBtn").style.display="none";
        document.getElementById("nextBtn").style.display="none";
    }

    else if (n==2) {
        document.getElementById("prevBtn").style.display="inline";
        document.getElementById("nextBtn").style.display="none";
    }

    else if (n==3) {
        if (livesInNZ) {
            document.getElementById("nextBtn").style.display="none";
        }

        else {
            document.getElementById("nextBtn").style.display="inline";
        }
    }

    else if (n==5) {
        if (activityStepOne==true) {
            displayFirstStepOfActivities();
        }

        else {
            displaySecondStepOfActivities();
        }

        enableCheckActivityBtn();
    }

    else if (n==6) {
        // CHANGE BACK TO DISPLAY SECOND STEP OF ACTIVITIES IN NEXTPREV FUNCITON
        document.getElementById("prevBtn").style.display="inline";
        document.getElementById("nextBtn").style.display="none";
    }

    else {
        // Use block instead of inline ???
        document.getElementById("prevBtn").style.display="inline";
        document.getElementById("nextBtn").style.display="block";
    }

    if (n==x.length - 1) {

        // Add event listener to the checkbox
        checkbox.addEventListener("change", function () {

                // If checkbox is checked, enable submit button, else disable it
                if (checkbox.checked) {
                    submitBtn.disabled=false;
                }

                else {
                    submitBtn.disabled=true;
                }
            });
        document.getElementById("nextBtn").style.display="none";
        submitBtn.style.display="inline";
    }

    else {
        document.getElementById("nextBtn").innerHTML="Next";
        submitBtn.style.display="none";
    }

    // ... and run a function that displays the correct step indicator:
    fixStepIndicator(n);
}

function nextPrev(n) {
    // This function will figure out which tab to display
    var x=document.getElementsByClassName("tab");
    // Exit the function if any field in the current tab is invalid (Check email):
    if (n==1 && !validateForm()) return false;
    // Hide the current tab:
    x[currentTab].style.display="none";
    // Increase or decrease the current tab by 1:
    currentTab=currentTab+n;

    // if you have reached the end of the form... :
    if (currentTab >=x.length) {
        //...the form gets submitted:
        // document.getElementById("regForm").submit();
        return false;
    }

    // Otherwise, display the correct tab:
    showTab(currentTab);
}

function validateForm() {
    // This function deals with validation of the form fields
    var x,
    y,
    i,
    valid=true;
    x=document.getElementsByClassName("tab");
    y=x[currentTab].getElementsByTagName("input");

    // A loop that checks every input field in the current tab:
    for (i=0; i < y.length; i++) {

        // If a field is empty...
        if (y[i].value=="") {
            // add an "invalid" class to the field:
            y[i].className+=" invalid";
            // and set the current valid status to false:
            valid=false;
        }

        else if (y[i].type==="email") {

            // If the field is an email input
            // Check if the email is valid
            if ( !validateEmail(y[i].value)) {
                // If not valid, add an "invalid" class to the field:
                y[i].className+=" invalid";
                // and set the current valid status to false:
                valid=false;
            }
        }
    }

    // If the valid status is true, mark the step as finished and valid
    if (valid) {
        document.getElementsByClassName("step")[currentTab].className+=" finish";
    }

    return valid; // return the valid status
}

function fixStepIndicator(n) {
    // This function removes the "active" class of all steps...
    var i,
    x=document.getElementsByClassName("step");

    for (i=0; i < x.length; i++) {
        x[i].className=x[i].className.replace(" active", "");
    }

    //... and adds the "active" class to the current step:
    x[n].className+=" active";
}

// These two functions could be combined into one true/false
function newZealandYes() {
    livesInNZ=true;
    document.getElementById("input_countries").value="New Zealand";
    // Show the region options
    document.getElementById("regions").style.display="inline";
    // Hide the country options
    document.getElementById("countries").style.display="none";
    nextPrev(1);
}

function newZealandNo() {
    livesInNZ=false;
    document.getElementById("input_countries").value="";
    // Hide the region options
    document.getElementById("regions").style.display="none";
    // Show the country options
    document.getElementById("countries").style.display="block";
    nextPrev(1);
}

//#region Generate DD/MM/YYYY
function generateDateTimeString(format) {
    // Get the current date and time
    var now=new Date();

    // Extract the date components
    var month=now.getMonth()+1; // Months are zero-based
    var day=now.getDate();
    var year=now.getFullYear();

    // Extract the time components
    var hours=now.getHours();
    var minutes=now.getMinutes();
    var seconds=now.getSeconds();

    // Pad single-digit values with leading zeros
    if (month < 10) month="0"+month;
    if (day < 10) day="0"+day;
    if (hours < 10) hours="0"+hours;
    if (minutes < 10) minutes="0"+minutes;
    if (seconds < 10) seconds="0"+seconds;

    // Format the date/time string based on the format parameter
    var dateTimeString;

    if (format==="EU") {
        dateTimeString=day+"/"+month+"/"+year+" "+hours+":"+minutes+":"+seconds;
    }

    else if (format==="US") {
        dateTimeString=month+"/"+day+"/"+year+" "+hours+":"+minutes+":"+seconds;
    }

    else {
        // Default to US format if format is not provided or invalid
        dateTimeString=month+"/"+day+"/"+year+" "+hours+":"+minutes+":"+seconds;
    }

    // Return the date/time string
    return dateTimeString;
}

//#endregion

// Function to validate email format
function validateEmail(email) {
    const emailRegex=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
}


// These last two functions could be combined in a setHiddenInput function that takes as argument the hidden input ID and the value
function setHiddenInputandNext(inputID, value) {
    document.getElementById(inputID).value=value;
    nextPrev(1);
}

// Function to select or deselect an activity
function selectActivity(activityBtn, activityName, escapeRoom) {
    if (activityBtn.classList.contains("selected")) {
        // If the activity button is already selected, remove it from the list and remove the selected class
        activityBtn.classList.remove("selected");

        if (escapeRoom) {
            // If escapeRoom is true, remove the activity from the listOfEscapeRooms
            var index=listOfEscapeRooms.indexOf(activityName);

            if (index !==-1) {
                listOfEscapeRooms.splice(index, 1);
            }
        }

        else {
            // If escapeRoom is false, remove the activity from the listOfTZActivities
            var index=listOfTZActivities.indexOf(activityName);

            if (index !==-1) {
                listOfTZActivities.splice(index, 1);
            }
        }
    }

    else {
        // If the activity button is not selected, add it to the list and add the selected class
        activityBtn.classList.add("selected");

        if (escapeRoom) {
            // If escapeRoom is true, add the activity to the listOfEscapeRooms
            listOfEscapeRooms.push(activityName);
        }

        else {
            // If escapeRoom is false, add the activity to the listOfTZActivities
            listOfTZActivities.push(activityName);
        }
    }

    if (escapeRoom) {
        document.getElementById("what_escape_room").value=listOfEscapeRooms.join(", ");
    }

    enableCheckActivityBtn();
}

function selectEscapeQuest(activityBtn) {
    if ( !escapeQuest) {
        escapeQuest=true;
        activityBtn.classList.add("selected");
    }

    else {
        escapeQuest=false;
        activityBtn.classList.remove("selected");
    }

    enableCheckActivityBtn();
}

// Function to UpperCase the first letter of all the text inputs
function capitalizeInputs() {
    const inputs=document.querySelectorAll('input[type="text"]');

    inputs.forEach((input)=> {
            let value=input.value.trim();

            if (value.length > 0) {

                // Split the value by space, capitalize each word, then join them back together
                value=value .split(" ") .map((word)=> {
                        return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();
                    }) .join(" ");
                input.value=value;
            }
        });
}

//#region Functions for refresh page and timer 
// Function to refresh the page BUT could be replaced by Reload Form ???
function refreshPage() {
    // alert("Page refreshed after 5 minutes of inactivity.");
    location.reload(); // Reload the page but could be document.getElementById("sign-in-form").reset();
}

// Function to set timer for inactivity
function startTimer() {
    clearTimeout(window.timerId); // Clear any existing timer
    window.timerId=setTimeout(refreshPage, inactivityDuration); // 5 minutes
}

// Function to reset timer on user activity
function resetTimer() {
    clearTimeout(window.timerId);
    startTimer();
}

//#endregion

// Enables the check activity based on a condition if at least one activity is selected
function enableCheckActivityBtn() {
    // Enable or disable the "check activities" button based on conditions
    var checkAcitivtyBtn=document.getElementById("check_activities");

    if (listOfTZActivities.length > 0 || escapeQuest) {
        checkAcitivtyBtn.disabled=false; // Enable the button
    }

    else {
        checkAcitivtyBtn.disabled=true; // Disable the button
    }
}

// Check if phone number is required, if yes returns true
function isPhoneRequired() {
    return (listOfTZActivities.includes("Kidz Club") || listOfTZActivities.includes("Outdoor Escape Adventures") || listOfTZActivities.includes("Frisbee Golf") || escapeQuest);
}

// Check if additional info is required for the activities, if yes displays additional info contained, if not moves to next tab
function isAdditionalInfoRequired() {
    if ( !isPhoneRequired()) {
        nextPrev(1);
    }

    else {
        displaySecondStepOfActivities();
    }
}

function displayFirstStepOfActivities() {
    activityStepOne=true;
    document.getElementById("phone_number_input").innerHTML="";
    document.getElementById("escape_rooms_hidden_input").innerHTML="";
    document.getElementById("step_one_activities").style.display="inline";
    document.getElementById("step_two_activities").style.display="none";
    document.getElementById("prevBtn").style.display="inline";
    document.getElementById("back_to_activities").style.display="none";
    document.getElementById("nextBtn").style.display="none";
    document.getElementById("check_activities").style.display="inline";
}

function displaySecondStepOfActivities() {
    // Make sure at least one escape room is selected... if EQ is true bla bla bla else no
    activityStepOne=false;
    // display the additional info
    document.getElementById("phone_number_input").innerHTML='<p><input type="tel" id="phone_input" placeholder="Enter Phone Number" name="Phone" oninput="this.className = \'\'"></p>';

    if (phoneNumber.length > 0) {
        document.getElementById("phone_input").value=phoneNumber;
    }

    document.getElementById("phone_input").addEventListener("input", function (event) {
            phoneNumber=event.target.value;
        });
    // Event listener for Enter key press
    document.getElementById("phone_input").addEventListener("keydown", handleEnterKeyPress);

    if (escapeQuest) {
        document.getElementById("escape_room_options").style.display="inline";
        document.getElementById("escape_rooms_hidden_input").innerHTML='<input type="hidden" name="Escape Room" id="what_escape_room" value=""></input>';
        document.getElementById("what_escape_room").value=listOfEscapeRooms.join(", ");
    }

    else {
        document.getElementById("escape_room_options").style.display="none";
    }

    document.getElementById("step_one_activities").style.display="none";
    document.getElementById("step_two_activities").style.display="inline";
    document.getElementById("prevBtn").style.display="none";
    document.getElementById("back_to_activities").style.display="inline";
    document.getElementById("nextBtn").style.display="inline";
    document.getElementById("check_activities").style.display="none";
}

function openModal() {
    document.getElementById("termsModal").style.display="flex";
}

function closeModal() {
    document.getElementById("termsModal").style.display="none";
}

function handleEnterKeyPress(event) {

    // Check if the pressed key is Enter
    if (event.key==="Enter") {
        // Prevent the default action of the Enter key (form submission)
        event.preventDefault();
        // Get the current input element
        const currentInput=event.target;
        // Get the ID of the current input element
        const inputId=currentInput.id;

        // Check if the current input is the first name input
        if (inputId==="first_name") {
            // Change focus to the last name input
            document.getElementById("last_name").focus();
        }

        // Check if the current input is the last name input
        else if (inputId==="last_name") {
            // Change focus to the email input
            document.getElementById("email_address").focus();
        }

        // Otherwise, if neither first name nor last name, proceed with nextPrev function
        else {
            // Close the virtual keyboard
            document.activeElement.blur(); // Blur the currently focused element
            // Call the function you want to execute when Enter is pressed
            nextPrev(1);
        }
    }
}

</script></body></html>